<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Week 2 - Futur & Mots de liaison üá™üá∏</title>
  <style>
    body {
      font-family: 'Poppins', sans-serif;
      background: linear-gradient(135deg, #e0f7fa, #fff9c4);
      margin: 0;
      padding: 20px 10px;
      color: #333;
      display: flex;
      justify-content: center;
    }

    .container {
      width: 100%;
      max-width: 650px;
      background: white;
      padding: 25px;
      border-radius: 20px;
      box-shadow: 0 10px 30px rgba(0, 150, 136, 0.2);
      text-align: center;
      border-top: 8px solid #26a69a;
    }

    h1 {
      font-size: 1.8rem;
      margin-bottom: 8px;
      color: #00796b;
    }

    p.subtitle {
      color: #555;
      margin-bottom: 20px;
      font-size: 1rem;
    }

    .sentence-card {
      background: #f0fff4;
      border-left: 6px solid #26a69a;
      padding: 14px 16px;
      margin-bottom: 18px;
      border-radius: 12px;
      transition: transform 0.3s;
    }

    .sentence-card:hover {
      transform: translateY(-2px);
    }

    .translation {
      display: none;
      margin-top: 10px;
      color: #444;
      font-size: 1rem;
    }

    .show-btn, .check-btn, .audio-btn, #nextBtn {
      border: none;
      border-radius: 10px;
      color: white;
      cursor: pointer;
      transition: 0.3s;
      font-size: 0.95rem;
    }

    .show-btn {
      margin-top: 10px;
      background: #26a69a;
      padding: 10px 16px;
      width: 100%;
    }

    .show-btn:hover {
      background: #009688;
    }

    .input-area {
      display: block;
      margin-top: 12px;
    }

    .input-area input {
      padding: 10px;
      border: 2px solid #ccc;
      border-radius: 10px;
      width: 100%;
      font-size: 1rem;
      outline: none;
      box-sizing: border-box;
    }

    .check-btn {
      background: #81c784;
      padding: 10px 16px;
      margin-top: 8px;
      width: 100%;
    }

    .check-btn:hover {
      background: #66bb6a;
    }

    .feedback {
      margin-top: 6px;
      font-weight: 600;
      font-size: 0.95rem;
    }

    .feedback.success { color: #2e7d32; }
    .feedback.error { color: #c62828; }

    #nextBtn {
      margin-top: 25px;
      background: #26a69a;
      padding: 14px 24px;
      width: 100%;
      font-size: 1rem;
    }

    #nextBtn:hover {
      background: #00796b;
    }

    table {
      width: 100%;
      border-collapse: collapse;
      margin-top: 40px;
      font-size: 1rem;
    }

    th, td {
      border: 1px solid #ccc;
      padding: 10px;
      text-align: left;
    }

    th {
      background: #b2dfdb;
      color: #004d40;
    }

    td:first-child {
      font-weight: 600;
      color: #00796b;
    }

    #backBtn {
      display: inline-block;
      margin-top: 25px;
      padding: 12px 20px;
      background: #80cbc4;
      color: #004d40;
      border: none;
      border-radius: 12px;
      font-size: 1rem;
      cursor: pointer;
      transition: background 0.3s;
    }

    #backBtn:hover {
      background: #4db6ac;
      color: white;
    }
  </style>
</head>
<body>
  <div class="container">
    <h1>Week 2 - Le futur & les mots de liaison üá™üá∏</h1>
    <p class="subtitle">Apprends √† construire tes phrases au futur avec fluidit√© üí¨</p>

    <div id="sentences"></div>
    <button id="nextBtn">‚û°Ô∏è Phrase suivante</button>

    <h2>üìñ Mots et expressions de liaison</h2>
    <table>
      <tr><th>Espagnol</th><th>Fran√ßais</th></tr>
      <tr><td>porque</td><td>parce que</td></tr>
      <tr><td>sin embargo</td><td>cependant / pourtant</td></tr>
      <tr><td>despu√©s</td><td>apr√®s</td></tr>
      <tr><td>entonces</td><td>alors / donc</td></tr>
      <tr><td>aunque</td><td>bien que / m√™me si</td></tr>
      <tr><td>adem√°s</td><td>de plus / en plus</td></tr>
      <tr><td>por eso</td><td>c‚Äôest pourquoi</td></tr>
      <tr><td>cuando</td><td>quand</td></tr>
      <tr><td>mientras</td><td>pendant que / tandis que</td></tr>
      <tr><td>antes de</td><td>avant de</td></tr>
      <tr><td>despu√©s de</td><td>apr√®s</td></tr>
      <tr><td>por lo tanto</td><td>par cons√©quent</td></tr>
      <tr><td>as√≠ que</td><td>ainsi / donc</td></tr>
      <tr><td>ya que</td><td>puisque</td></tr>
      <tr><td>a pesar de</td><td>malgr√© / en d√©pit de</td></tr>
      <tr><td>en cambio</td><td>en revanche</td></tr>
      <tr><td>por un lado... por otro lado</td><td>d‚Äôun c√¥t√©‚Ä¶ de l‚Äôautre c√¥t√©</td></tr>
      <tr><td>aunque sea dif√≠cil</td><td>m√™me si c‚Äôest difficile</td></tr>
      <tr><td>al final</td><td>finalement / √† la fin</td></tr>
      <tr><td>sobre todo</td><td>surtout / avant tout</td></tr>
    </table>

    <button id="backBtn" onclick="location.href='index.html'">‚¨ÖÔ∏è Retour au menu principal</button>
  </div>

  <script>
    document.addEventListener("DOMContentLoaded", () => {
      const sentences = [
        ["1/15 - Ghad n9ra ma Mariamox ghdda", "Ma√±ana estudiar√© con Mariamox"],
        ["2/15 - Ghad nkoun mcharik f wa7ed l'examen", "Participar√© en un examen importante"],
        ["3/15 - Ba3d ma nsali, ghad nchoof wa7ed film", "Despu√©s de terminar, ver√© una pel√≠cula"],
        ["4/15 - Ghadi ntmacha ila kan jaw mzyan", "Caminar√© si hace buen tiempo"],
        ["5/15 - Ghad nkteb journali kola nhar", "Escribir√© mi diario cada d√≠a"],
        ["6/15 - W ila 3ndi wa9t, ghad nqra espagnol", "Y si tengo tiempo, estudiar√© espa√±ol"],
        ["7/15 - Ghad nsol lprof 3la chi expressions jdida", "Preguntar√© al profesor sobre nuevas expresiones"],
        ["8/15 - B3d had semaine, ghad n9der nder phrases akthar", "Despu√©s de esta semana podr√© hacer m√°s frases"],
        ["9/15 - Ghad n7awel nst3mel les mots de liaison", "Intentar√© usar conectores"],
        ["10/15 - Ghad n7taj pratique bzzaf bach nkoun fluent", "Necesitar√© mucha pr√°ctica para ser fluido"],
        ["11/15 - Ila t3lmt b zid lmotivation, ghadi nwasel", "Si aprendo con motivaci√≥n, continuar√©"],
        ["12/15 - Wa9t lferagh ghad nqra w njrb phrases jdida", "En mi tiempo libre estudiar√© y probar√© nuevas frases"],
        ["13/15 - L semaine jaya ghadi nder test 3la hadchi", "La pr√≥xima semana har√© una prueba sobre esto"],
        ["14/15 - Ghad nsoulek ila 3raft chi mot jdida", "Te preguntar√© si aprendiste nuevas palabras"],
        ["15/15 - W ila t3lmt mzyan, ghadi nkhdem b l‚Äôespagnol", "Y si aprendo bien, trabajar√© en espa√±ol"]
      ];

      let index = 0;
      const container = document.getElementById("sentences");
      const nextBtn = document.getElementById("nextBtn");

      const speakSpanish = text => {
        const utter = new SpeechSynthesisUtterance(text);
        utter.lang = "es-ES";
        utter.rate = 1;
        speechSynthesis.speak(utter);
      };

      const normalizeText = str =>
        str.toLowerCase().normalize("NFD").replace(/[\u0300-\u036f]/g, "").trim();

      const showNextSentence = () => {
        if (index >= sentences.length) {
          nextBtn.disabled = true;
          nextBtn.innerText = "üéâ Toutes les phrases sont termin√©es !";
          return;
        }

        const [darija, es] = sentences[index];
        const card = document.createElement("div");
        card.classList.add("sentence-card");

        card.innerHTML = `
          <p><strong>${darija}</strong></p>
          <div class="input-area">
            <input type="text" placeholder="√âcris la phrase en espagnol...">
            <button class="check-btn">V√©rifier</button>
            <p class="feedback"></p>
          </div>
          <button class="show-btn">Afficher la traduction</button>
          <p class="translation">${es}</p>
          <button class="audio-btn">üîä √âcouter</button>
        `;

        const showBtn = card.querySelector(".show-btn");
        const translation = card.querySelector(".translation");
        const audioBtn = card.querySelector(".audio-btn");
        const inputArea = card.querySelector(".input-area");
        const input = inputArea.querySelector("input");
        const checkBtn = inputArea.querySelector(".check-btn");
        const feedback = inputArea.querySelector(".feedback");

        translation.style.display = "none";
        audioBtn.style.display = "none";

        showBtn.addEventListener("click", () => {
          const isHidden = translation.style.display === "none";
          translation.style.display = isHidden ? "block" : "none";
          audioBtn.style.display = isHidden ? "inline-block" : "none";
          inputArea.style.display = isHidden ? "none" : "block";
          feedback.textContent = "";
          showBtn.textContent = isHidden ? "Masquer la traduction" : "Afficher la traduction";
        });

        checkBtn.addEventListener("click", () => {
          const userAnswer = normalizeText(input.value);
          const correctAnswer = normalizeText(es);
          if (userAnswer === correctAnswer) {
            feedback.textContent = "‚úÖ Excellent !";
            feedback.className = "feedback success";
          } else {
            feedback.textContent = "‚ùå Presque ! Essaie encore üòÖ";
            feedback.className = "feedback error";
          }
        });

        audioBtn.addEventListener("click", () => speakSpanish(es));
        container.appendChild(card);
        index++;
      };

      nextBtn.addEventListener("click", showNextSentence);
      showNextSentence();
    });
  </script>
</body>
</html>
